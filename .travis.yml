language: node_js
node_js:
  - 12
before_install:
  - openssl aes-256-cbc -K $encrypted_afaae77f48e5_key -iv $encrypted_afaae77f48e5_iv
    -in firebaseauth.json.enc -out firebaseauth.json -d
  - openssl aes-256-cbc -K $encrypted_24ecaed9e146_key -iv $encrypted_24ecaed9e146_iv
    -in travisacckey.json.enc -out travisacckey.json -d

skip
deploy:
  - provider: gae
    keyfile: travisacckey.json
    project: cardsagainsthodgkinson
    version: "$TRAVIS_BUILD_NUMBER"
    skip_cleanup: true
    promote: true
    on:
      branch: master
  - provider: gae
    keyfile: travisacckey.json
    project: cardsagainsthodgkinson
    version: "$TRAVIS_BUILD_NUMBER"
    skip_cleanup: true
    no-promote: true
    on:
      branch: beta
